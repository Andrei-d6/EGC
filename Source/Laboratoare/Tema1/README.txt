Tema 1 EGC - My Flappy Bird
Student: Dugaesescu Andrei
Grupa: 331CC

Desenare pasare:
	Pasarea este descrisa de formele care o compun, si anume: corpul, capul, ciocul, aripa, ochiul si pupila. Corpul este forma de baza a pasarii, fiind singurul element a carui miscare se desfasoara doar pe axa Oy. Celelalte elemente, pe langa miscarea pe axa Oy, prezinta si o rotatie in jurul centrului pasarii.


Desenare mediu si animatie:
	Mediul descris in cadrul jocului este compus din doua mari componente: perechile de stalagmite si stalactite din prim plan (foreground) si fundalul (background) care la randul sau este compus din cer (si elementele aferente cerului) precum si din elementele terestre. In timpul jocului, mediul surprinde o tranzitie secventiala intre diferite momente ale zilei, fiecare moment (zi, seara, noapte) fiind marcat de propria paleta de culori. Trecerea de la un moment al zilei la altul se realizeaza prin trecerea consecutiva prin mai multe perechi de pipe-uri. In ceea ce priveste animatia fundalului, fiecare serie de dealuri se deplaseaza cu o anumita viteza - o viteza mai mica pentru dealurile din departare si o viteza mai mare pentru dealurile mai apropiate - intre aceste serii de dealuri aflandu-se si un numar de stalagmite avand o viteza de translatie pe axa Ox cu valoarea cuprinsa intre vitezele dealurilor. Pe timpul zilei si al serii, pe suprafata cerului apar diferite grupari de nori avand pozitii si forme diferite in functie de un numar primit la generare al fiecarui nor. Pe timpul noptii, in locul norilor, pe suprafata cerului apar numeroase forme de marimi deiferite reprezentand stele. Atat norii, cat si stelele au o viteza proprie de translatie (catre stanga) pe axa Ox.
	Un lant de dealuri este desenat avand la baza un dreptunghi de lungime egala cu rezolutia ecranului deasupra caruie sunt desenate cercuri avand diferiti coeficienti de scalare. Numarul acestor cercuri depinde de marimea suprafetei de joc.
	In ceea ce priveste norii, acestia sunt desenati cu ajutorul unor grupari de cercuri translatate simultan cu acelasi coeficient. Stelele pe de alta parte sunt desenate astfel incat sa acopere, avand o dispersie aleatoare, partea superioara a ecranului.
	Atat dealurile, cat si stelele au in principiu, la baza, o singura forma redesenata de mai multe ori conform unei liste de parametrii care descriu modul in care respectivele forme trebuie in final impartite pe suprafata de joc.
	Pentru pipe-uri, lista de parametrii ce descriu cum trebuie desenate perechile de stalagmite si stalactite cuprinde: coordonata x a coltului stanga jos a fiecarui pipe, coeficientul de scalare al latimii pipe-ului cu ajutorul caruia este calulata inaltimea pipe-urilor inferioare, precum si distanta dintre stalagmita si stalactita. Avand aceste informatii, se pot calcula parametrii ce descriu pozitia si marimea stalactitei. Viteza de translatie a pipe-urilor creste odata cu cresterea scorului (scorul creste incremental trecand prin perechi de stalacmite si stalactite), iar marimea maxima posibila a distantei dintre o stalacmita si stalactita scade odata cu cresterea scorului. Pe parcursul jocului perechile de stalagmite si stalactite raman echidistante.


Animatie pasare:
	Pentru realizarea animatiei pasarii trebuie avute in considerare o serie de factori: viteza de deplasare a pasarii, acceleratia acestia, pozitia pe axa Oy a centrului pasarii, precum si coeficientii de rotatie pentru elementele ce compun pasarea. Viteza pasarii este influentata de doi factori: de cat timp pasarea cade sau daca utilizatorul a apasat space. Pozitia relativa a pasarii este direct influentata de viteza acesteia. O viteza pozitiva presupune o scadere a pozitiei pe axa Oy a pasarii ceea ce inseamna ca pasarea cade, iar o viteza negativa conduce la o crestere a coordonatei Oy a pasarii ceaa ce inseamna ca pasarea urca (are o traiectorie ascendenta). Unghiul cu care fiecare element al pasarii este rotit pentru a produce animatia este calculat ca fiind un procentaj din viteza pasarii insa acest unghi de roattie nu poate depasii anumite limite - pentru ca pasarea sa nu se poate roti mai mult decat ar avea sens in timpul caderii sau urcarii pe axa Oy.
	Simularea modului prin care pasarea da din aripi este descris de unghiul de rotatie al pasarii precum si de semnul parametrului de viteza al pasarii. O viteza pozitiva (pasarea cade) presupune ca aripa sa fie orientata cu varful in sus, iar o viteza negativa (pasarea urca - adica a dat din aripi) presupune ca aripa sa fie orientata cu varful in jos.
	

Coliziuni:
	Coliziunile folosite au la baza calcularea distantei dintre doua cercuri pentru a determina daca acestea se suprapun sau nu - distanta dintre centrele cercurilor pentru care se verifica actualmente coliziunea sa fie mare mare decat suma razelor cercurilor in cauza. Pasarea este incadrata de un cerc de raza cunoscuta care reprezinta defapt hitbox-ul pasarii. Intrucat pasarea nu se deplaseaza practic pe axa Ox, acest fapt conduce la imposibilitatea pasarii de a se putea lovi cu mai multe perechi de stalagmite si stalactite. Acea pereche de pipe-rui aflata in zona in care pasarea se poate lovi este folosita pentru verificarea unei posibile coliziuni. Fiecare dintre cele doua pipe-uri este privit ca o serie de cercuri avand diametrul egal cu latimea pipe-ului care se intind pe intreaga lungime a dreptunghiurilor. Aditional, capetelor fiecarui pipe le sunt adaugate inca un numar de cercuri urmand ca in final coliziunea sa fie verificata intre cercul care incadreaza pasarea si cercurile care se afla practic in interiorul perechii de pipe-uri. Pentru aceste calcule, este necesara doar determinarea centrelor cercurilor, nu fiecare punct care descrie extremitatea exterioara a cercului.
	In cazul in care pasarea sufera o coliziune cu vreunul dintre pipe-uri jocul se opreste in sensul in care imaginea devine statica, in consola apre un mesaj de terminare de joc, iar pasarea este desenata intr-o maniera sugestiva pentru o stare in care aceasta s-ar fi lovit.


Printare statistici in consola:
	Pe parcursul jocului, utiliztorului ii este prezentat scorul curent, incrementat la trecerea prin fiecare pereche de pipe-uri. In cazul in care pasarea intampina o coliziune cu vreunul din pipe-uri atunci jocul se termina, in conosola aparand un mesaj corespunzator terminarii jocului care informeaza utilizatorul asupra scorului final, a terminarii jocului, numarului de incercari consecutive precum si modalitatea de reincepere a jocului.
	Jocul prezinta si posibilitatea opririi temporare a jocului, avand ca efect punerea in modul de pauza (cu ajutorul tastei 'P').In cazul in care utilizatorul decide sa puna pauza jocului curent, acesta este instiintat atat vizual, cat si cu un mesaj corespunzator in consola care anunta starea de pauza a jocului precum si modalitatea continuarii acestuia.

